# Flask

## 開発に当たって必要になりそうな拡張機能ライブラリ

- Conexion
- flask-sqlalchemy
- Flask-Marshmallow
- uwsgi

###  uWSGI
Python3-alpine に gcc系のライブラリがないために，pipインストールできない．
なので，先に apt-get などでgccライブラリを入れておく．
OpenAPIで自動生成したプロジェクトの場合，Dockerfileに追加する．

### Connecxion

OpenAPI ファストのフレームワーク．  
自動エンドポイント検証とOAuth2をサポートした Flask用のフレームワーク

公式リポジトリの冒頭説明文（翻訳）

> Connexionは、YAML形式で記述されたAPIのOpenAPI仕様(以前はSwagger仕様として知られていました)に基づいてHTTPリクエストを自動処理するフレームワークです。多くのツールがPythonコードに基づいて仕様を生成している中、Connexionはユニークです。これは多くのツールがあなたのPythonコードに基づいて仕様を生成しているのと同じように、ユニークなものです。
このようにしてConnexionを構築したのは、開発プロセスを簡素化するためです。
> - 開発プロセスの簡素化
> - APIがどのようなものになるのか、期待値を確認する

#### Connecxion の特徴

公式リポジトリの特徴部分の翻訳

> - お客様の仕様に基づいて、リクエストとエンドポイントパラメータを自動的に検証します。
> - Web Swagger Console UIを提供することで、APIのユーザーがライブでドキュメントを作成したり、APIのエンドポイントを呼び出すことができるようになります。
> - OAuth 2 のトークンベースの認証を処理します。
> - APIのバージョン管理をサポート
> - ペイロードの自動シリアライズをサポートします。エンドポイントが JSON を返すことを仕様で定義している場合、Connexion は自動的に返り値をシリアライズし、HTTP ヘッダーに正しいコンテンツタイプを設定します。

#### Why Connecsion

> Connexion では、まず仕様書を書きます。その後、Connexion が Python コードを呼び出し、仕様書からコードへのマッピングを処理します。これにより、開発者全員がAPIが何をするのかを理解できるように、1行のコードを書く前に仕様書を書くことができます。
> 
> 複数のチームがAPIに依存している場合は、Connexionを使用してAPIのドキュメントを簡単に送信することができます。これにより、あなたのAPIがあなたが書いた仕様に従っていることが保証されます。これは、コードを書いた後に仕様を生成する Hug などのフレームワークが提供するプロセスとは異なります。コードに基づいて仕様書を生成することのいくつかの欠点は、詳細が不足していたり、アプリケーションのコードロジックとドキュメントが混在していたりすることが多いことです。

つまり，Flaskプロジェクト内の `openapi/` にコピーされたOpenAPI Specificationに基づいて，
Connexionはルーティング的なことを代わりに行ってくれるので，自前で何かを作る必要がない．